#include <linux/mfd/pm8xxx/pm8921-bms.h>
//#include <linux/mfd/pm8xxx/pm8921-lib.h>

static struct single_row_lut fcc_temp = {
	.x		= {-20, 0, 25, 40, 60},
	.y		= {2469, 2472, 2469, 2456, 2450},
	.cols	= 5
};

static struct single_row_lut fcc_sf = {
	.x		= {0},
	.y		= {100},
	.cols	= 1
};

static struct sf_lut rbatt_sf = {
	.rows		= 31,
	.cols		= 5,
	.row_entries		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.sf		= {
				{1438, 321, 100, 77, 69},
				{1437, 321, 100, 78, 69},
				{1407, 332, 106, 82, 72},
				{1380, 343, 111, 86, 74},
				{1373, 351, 117, 89, 77},
				{1363, 365, 125, 95, 81},
				{1389, 355, 133, 99, 84},
				{1417, 353, 141, 105, 87},
				{1445, 359, 136, 107, 89},
				{1482, 368, 108, 86, 74},
				{1535, 382, 109, 82, 74},
				{1600, 406, 114, 87, 78},
				{1675, 437, 122, 93, 82},
				{1762, 475, 130, 96, 85},
				{1926, 518, 137, 96, 82},
				{2218, 559, 140, 93, 78},
				{2544, 603, 140, 93, 76},
				{2794, 648, 137, 91, 74},
				{2714, 664, 138, 91, 75},
				{2811, 684, 149, 97, 79},
				{2997, 705, 155, 100, 80},
				{3219, 725, 162, 103, 81},
				{3494, 753, 168, 105, 82},
				{3824, 775, 173, 106, 79},
				{4250, 796, 169, 103, 79},
				{4806, 821, 169, 102, 82},
				{5523, 853, 177, 106, 89},
				{6575, 903, 193, 120, 103},
				{8443, 981, 233, 142, 111},
				{14044, 1566, 277, 162, 137},
				{39526, 12585, 2471, 2394, 668}
	}
};

#if 0
static struct sf_lut r1batt = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.r1		= {
				{393, 195, 89, 74, 73},
				{393, 195, 89, 74, 73},
				{383, 203, 89, 75, 73},
				{403, 196, 89, 75, 73},
				{378, 199, 89, 75, 73},
				{378, 196, 90, 75, 74},
				{379, 195, 91, 75, 74},
				{378, 197, 92, 76, 74},
				{383, 197, 93, 77, 74},
				{398, 198, 94, 77, 74},
				{386, 200, 95, 77, 75},
				{382, 205, 96, 78, 75},
				{387, 201, 98, 79, 75},
				{391, 202, 100, 80, 76},
				{390, 208, 102, 81, 76},
				{400, 204, 104, 83, 77},
				{402, 206, 106, 85, 77},
				{418, 206, 108, 86, 78},
				{416, 203, 109, 87, 78},
				{406, 205, 110, 88, 79},
				{424, 203, 110, 88, 79},
				{420, 212, 111, 88, 79},
				{423, 209, 111, 89, 79},
				{424, 211, 110, 89, 79},
				{423, 209, 112, 90, 79},
				{436, 215, 113, 91, 80},
				{434, 206, 113, 91, 81},
				{431, 210, 115, 92, 81},
				{451, 206, 115, 93, 82},
				{422, 222, 117, 94, 83},
				{448, 285, 136, 117, 218}
	}
};

static struct sf_lut r2batt = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.r2		= {
				{1463, 220, 40, 26, 17},
				{1462, 220, 40, 27, 17},
				{1433, 226, 48, 31, 20},
				{1378, 247, 55, 36, 23},
				{1394, 255, 63, 41, 27},
				{1381, 276, 72, 48, 31},
				{1414, 264, 81, 53, 35},
				{1451, 259, 90, 60, 39},
				{1482, 267, 83, 62, 41},
				{1515, 277, 46, 34, 22},
				{1595, 294, 46, 30, 21},
				{1683, 320, 52, 35, 26},
				{1775, 364, 60, 42, 31},
				{1882, 412, 68, 44, 34},
				{2095, 461, 75, 43, 30},
				{2462, 518, 77, 38, 24},
				{2880, 572, 75, 35, 22},
				{3187, 630, 70, 32, 18},
				{3086, 654, 70, 31, 20},
				{3221, 678, 83, 38, 24},
				{3443, 707, 90, 42, 25},
				{3733, 724, 98, 45, 26},
				{4085, 763, 107, 47, 27},
				{4509, 790, 114, 49, 23},
				{5060, 818, 107, 44, 23},
				{5765, 845, 106, 41, 27},
				{6691, 895, 116, 47, 35},
				{8051, 955, 135, 64, 52},
				{10441, 1060, 186, 91, 62},
				{17695, 1799, 241, 116, 94},
				{50541, 15950, 3052, 2972, 645}
	}
};
#endif

static struct pc_temp_ocv_lut pc_temp_ocv = {
	.rows		= 31,
	.cols		= 5,
	.temp		= {-20, 0, 25, 40, 60},
	.percent	= {100, 95, 90, 85, 80, 75, 70, 65, 60, 55, 50, 45, 40, 35, 30, 25, 20, 16, 13, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
	.ocv		= {
				{4333, 4332, 4327, 4323, 4315},
				{4247, 4259, 4261, 4260, 4255},
				{4177, 4200, 4206, 4205, 4200},
				{4114, 4144, 4152, 4151, 4147},
				{4056, 4091, 4100, 4100, 4096},
				{3989, 4039, 4053, 4053, 4048},
				{3942, 3980, 4005, 4006, 4003},
				{3902, 3934, 3963, 3966, 3963},
				{3865, 3895, 3920, 3924, 3922},
				{3835, 3860, 3869, 3873, 3871},
				{3810, 3830, 3840, 3842, 3841},
				{3789, 3806, 3817, 3819, 3818},
				{3770, 3788, 3797, 3799, 3798},
				{3753, 3773, 3782, 3781, 3780},
				{3737, 3759, 3769, 3765, 3759},
				{3720, 3742, 3753, 3746, 3733},
				{3702, 3723, 3729, 3722, 3707},
				{3683, 3707, 3697, 3691, 3677},
				{3665, 3695, 3683, 3677, 3665},
				{3650, 3686, 3681, 3674, 3663},
				{3641, 3681, 3679, 3673, 3661},
				{3629, 3676, 3677, 3671, 3659},
				{3615, 3669, 3673, 3668, 3655},
				{3598, 3658, 3666, 3661, 3644},
				{3577, 3639, 3643, 3642, 3614},
				{3548, 3606, 3603, 3604, 3573},
				{3507, 3556, 3549, 3555, 3523},
				{3449, 3488, 3483, 3497, 3463},
				{3363, 3392, 3403, 3425, 3382},
				{3233, 3263, 3284, 3316, 3256},
				{3000, 3000, 3000, 3000, 3000}
	}
};

#if 0
static struct pc_sf_lut  pc_sf = {
	.rows		= 1,
	.cols		= 1,
	.cycles		= {0},
	.percent	= {100},
	.sf			= {
				{100}
	}
};
#endif

struct bms_battery_data ztemt_2400mAh_data = {
	.fcc				= 2400,
	.fcc_temp_lut			= &fcc_temp,
	.fcc_sf_lut				= &fcc_sf,
	.pc_temp_ocv_lut		= &pc_temp_ocv,
#if 0
	.pc_sf_lut				= &pc_sf,
#endif	
	.rbatt_sf_lut			= &rbatt_sf,
	.default_rbatt_mohm	= 129
};
